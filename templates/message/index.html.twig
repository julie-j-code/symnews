{% extends 'base.html.twig' %}

{% block title %}Hello MessageController!{% endblock %}

{% block body %}
<div class="container-fluid bg-light p-5 my-5">
    <div class="container mx-auto pt-5">
      <h1 class="display-3">Messagerie</h1>
      <p>The message entity dedicated to the creation of a private messaging is binded to users with <code>inversedBy="sent"</code>  + <code>inversedBy="received" </code>, 
        both allowing the use of <code>EntityType::class</code> in MessageType, the creation of routes "/sent" & "/received" + the render of <code>app.user.received|length + app.user.sent|length on html.twig</code>
      </p>
</div>
</div>
          
<section class="container">
    <div class="row">
        <div class="col-12">

            <p>Résumé de la messagerie</p>
            <p>Reçus : {{ app.user.received|length }}</p>
            <p>Envoyés : {{ app.user.sent|length }} </p>
            <a class="btn btn-secondary" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
                Voir mes dossiers
            </a>
            <a href="{{path("send")}}" class="btn btn-secondary">Envoyer un message</a>

        </div>
    </div>
</section>

<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
        <h2 class="offcanvas-title" id="offcanvasExampleLabel">Mes dossiers</h2>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <div class="list-group">
            <a href="{{ path("messages") }}" class="list-group-item list-group-item-action active">Accueil</a>
        </div>
        <div class="list-group">
            <a href="{{ path("received") }}" class="list-group-item list-group-item-action">Boîte de réception</a>
        </div>
        <div class="list-group">
            <a href="{{ path("messages") }}" class="list-group-item list-group-item-action">Eléments envoyés</a>
        </div>
    </div>
</div>


{% endblock %}
